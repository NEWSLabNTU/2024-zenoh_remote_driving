launch:
  - arg:
      name: vehicle_ip
      default: 192.168.10.101

  - arg:
      name: video_port
      default: "8080"

  - arg:
      name: zenoh_port
      default: "8001"

  - arg:
      name: vehicle_model
      default: f1eighth_vehicle

  - arg:
      name: sensor_model
      default: f1eighth_sensor_kit

  # Run the Zenoh bridge
  - executable:
      cmd: zenoh-bridge-ros2dds -e tcp/$(var vehicle_ip):$(var zenoh_port)
      output: screen
      launch-prefix: env RUST_LOG=warn
      respawn: "true"

  # Run the controller
  - node:
      pkg: g923_control
      exec: g923_control
      name: g923_control
      output: screen
      respawn: "true"

  # Visualizer
  - node:
      pkg: rviz2
      exec: rviz2
      name: rviz2
      output: screen
      # args: -d $(var rviz_config)
      respawn: "true"

  # Run Zed driver
  - include:
      file: "$(find-pkg-share zed_display_rviz2)/launch/display_zed_cam.launch.py"
      arg:
      -
        name: camera_model
        value: zedx
